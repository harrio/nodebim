{"version":3,"sources":["webpack:///webpack/bootstrap 42bf09a6cfa5902cd753","webpack:///./src/main.js","webpack:///./~/tween.js/src/Tween.js","webpack:///./src/BimManager.js","webpack:///./~/three-obj-loader/dist/index.js","webpack:///./src/Navigator.js","webpack:///./src/Teleporter.js","webpack:///./src/Menu.js","webpack:///./src/WorldManager.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 42bf09a6cfa5902cd753\n **/","/* global THREE */\n/* global THREEx */\n\nimport TWEEN from 'tween.js';\nimport * as BimManager from './BimManager';\nimport * as Navigator from './Navigator';\nimport * as Teleporter from './Teleporter';\nimport * as Menu from './Menu';\nimport * as WorldManager from './WorldManager';\n\n\nconst camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 10000);\nconst controls = new THREE.VRControls(camera);\nconst dolly = new THREE.Group();\nconst raycaster  = new THREE.Raycaster();\nconst renderer = new THREE.WebGLRenderer({antialias:true});\nconst effect = new THREE.VREffect(renderer);\nconst scene = new THREE.Scene();\nconst keyboard = new THREEx.KeyboardState();\n\nlet teleportOn = false;\nlet onMenu = false;\nlet keyboardOn = true;\n\n\nlet beaconGroup, crosshair, VRManager, menuParent, teleporter, ground;\n\nconst init = () => {\n  camera.position.set(0, 5, 10);\n\n  crosshair = Navigator.initCrosshair();\n  camera.add(crosshair);\n\n  renderer.setPixelRatio(window.devicePixelRatio);\n\n  const container = document.getElementById('viewport');\n  container.appendChild(renderer.domElement);\n\n  controls.standing = true;\n\n  dolly.add(camera);\n\n  menuParent = Menu.createMenu(dolly);\n\n  beaconGroup = Navigator.createBeacons();\n\n  const vertexShader = document.getElementById( 'vertexShader' ).textContent;\n  const fragmentShader = document.getElementById( 'fragmentShader' ).textContent;\n  const skybox = WorldManager.createSkybox(fragmentShader, vertexShader);\n   ground = WorldManager.createGround();\n  const lights = WorldManager.createLights();\n\n  scene.add(dolly, beaconGroup, skybox, ground, lights.hemiLight, lights.directionalLight);\n\n\n  effect.setSize(window.innerWidth, window.innerHeight);\n  VRManager = new WebVRManager(renderer, effect);\n\n  BimManager.loadEnvironment('helsinki.js', scene);\n\n\n  setResizeListeners();\n  setClickListeners();\n  requestAnimationFrame(animate);\n};\n\nconst setResizeListeners = () => {\n  window.addEventListener('resize', onWindowResize, true);\n  window.addEventListener('vrdisplaypresentchange', onWindowResize, true);\n};\n\nconst onWindowResize = () => {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  effect.setSize(window.innerWidth, window.innerHeight);\n  camera.updateProjectionMatrix();\n};\n\nconst setClickListeners = () => {\n  const onClickEvent = () => {\n    if (teleportOn && !onMenu && teleporter) {\n      dolly.position.set(teleporter.position.x, teleporter.position.y, teleporter.position.z);\n      console.log('Dolly: ' + dolly.position.x + ',' + dolly.position.y + ',' + dolly.position.z);\n    }\n  };\n  window.addEventListener('mousedown', onClickEvent, false);\n}\n\nvar lastRender = 0;\nconst animate = (timestamp) => {\n  requestAnimationFrame(animate);\n  lastRender = timestamp;\n  controls.update();\n  render();\n\n  VRManager.render(scene, camera, timestamp, function() {});\n};\n\nconst getIntersectedBeacon = () => {\n  raycaster.setFromCamera( { x: 0, y: 0 }, camera );\n  const intersects = raycaster.intersectObjects(beaconGroup.children);\n  if (intersects.length < 1) {\n    return null;\n  }\n  return intersects[0].object;\n};\n\nconst getIntersectedMenu = () => {\n  raycaster.setFromCamera( { x: 0, y: 0 }, camera );\n  const intersects = raycaster.intersectObjects(menuParent.children);\n  if (intersects.length < 1) {\n    return null;\n  }\n  return intersects[0].object;\n};\n\nconst getIntersectedObj = () => {\n  raycaster.setFromCamera( { x: 0, y: 0 }, camera );\n  const intersects = raycaster.intersectObjects([ground, BimManager.getObject(), BimManager.getEnvironment()]);\n  if (intersects.length < 1) {\n    return null;\n  }\n  return intersects[0];\n};\n\nconst setBeaconHighlight = (beacon) => {\n  beacon.material.color.setHex(0x00ff00);\n};\n\nconst removeBeaconHighlight = (beacon) => {\n  beacon.material.color.setHex(0xff0000);\n  beacon.timestamp = null;\n};\n\nconst moveDollyToBeaconPosition = (dolly, intersectedBeacon) => {\n  moveDollyTo(dolly, {\n    x: intersectedBeacon.position.x,\n    y: intersectedBeacon.position.y-1,\n    z: intersectedBeacon.position.z}, \n    1000);\n};\n\nlet tween = null;\nconst moveDollyTo = (dolly, pos, time) => {\n  const tweenPos = {x: dolly.position.x, y: dolly.position.y, z: dolly.position.z};\n  if (tween) {\n    tween.stop();\n  } \n  tween = new TWEEN.Tween(tweenPos).to(pos, time);\n  \n\n  tween.onUpdate(() => {\n    dolly.position.set(tweenPos.x, tweenPos.y, tweenPos.z);\n  });\n\n  tween.onComplete(function() {\n    console.log('Dolly: ' + dolly.position.x + ',' + dolly.position.y + ',' + dolly.position.z);\n    tween = null;\n  });\n\n  tween.easing(TWEEN.Easing.Quadratic.In);\n  tween.start();\n}\n\n\nlet intersectedBeacon = null;\n\nconst render = () => {\n  Menu.updateMenuPosition(camera, menuParent);\n\n  checkMenu();\n  if (teleportOn) {\n    checkTeleport();\n  } else {\n    checkBeacon();\n  }\n\n  if (keyboardOn) {\n    checkKeyboard();\n  }\n\n  if (tween) {\n    TWEEN.update();\n  }\n};\n\nconst checkKeyboard = () => {\n  const hspeed = 100;\n  const vspeed = 100;\n  const vstep = 0.5;\n  const hstep = 0.5;\n  const rot = 3.14/180 * 5;\n\n\n  if (keyboard.pressed('W')) {\n    //alignDollyTo(camera.getWorldDirection());\n    dolly.translateZ(-hstep); \n  }\n\n  if (keyboard.pressed('S')) {\n    //alignDollyTo(camera.getWorldDirection());\n    dolly.translateZ(hstep); \n  }\n\n  if (keyboard.pressed('A')) {\n    dolly.rotateY(rot);\n  }\n\n  if (keyboard.pressed('D')) {\n    dolly.rotateY(-rot);\n  }\n\n  if (keyboard.pressed('R')) {\n    dolly.translateY(vstep);\n  }\n  if (keyboard.pressed('F')) {\n    dolly.translateY(-vstep);\n  }\n\n}\n\nconst alignDollyTo = (vec) => {\n  dolly.lookAt(new THREE.Vector3(0, vec.y, 0));\n  //const axis = new THREE.Vector3(0, 1, 0);\n  //dolly.quaternion.setFromUnitVectors(axis, vec.clone().normalize());\n}\n\nconst checkMenu = () => {\n  const obj = getIntersectedMenu();\n  if (obj) {\n    if (!onMenu) {\n      toggleNavigation();\n    }\n    onMenu = true;\n  } else {\n    onMenu = false;\n  }\n}\n\nconst checkTeleport = () => {\n  scene.remove(teleporter);\n  teleporter = null;\n\n  const obj = getIntersectedObj();\n  if (obj && obj.point) {\n    teleporter = Teleporter.createTeleporter();\n    scene.add(teleporter);\n    teleporter.position.set(obj.point.x, obj.point.y, obj.point.z);\n  }\n}\n\nconst checkBeacon = () => {\n  const obj = getIntersectedBeacon();\n\n  if (!obj || tween) { // clear previous highlight if any and reset timer\n    if (intersectedBeacon) {\n      removeBeaconHighlight(intersectedBeacon);\n    }\n    intersectedBeacon = null;\n    crosshair.material = Navigator.createCrosshairMaterial(0xffffff);\n  } else {\n       if (intersectedBeacon && intersectedBeacon != obj) { // clear previous highlight\n          removeBeaconHighlight(intersectedBeacon);\n       }\n       // highlight crosshair and beacon and start stare timer\n       crosshair.material = Navigator.createCrosshairMaterial(0x00ffff);\n       intersectedBeacon = obj;\n       setBeaconHighlight(intersectedBeacon);\n       if (!intersectedBeacon.timestamp) intersectedBeacon.timestamp = Date.now();\n\n       if (Date.now() - intersectedBeacon.timestamp > 1000) { // 1 second stare duration\n         crosshair.material = Navigator.createCrosshairMaterial(0xffffff);\n         removeBeaconHighlight(intersectedBeacon);\n         moveDollyToBeaconPosition(dolly, intersectedBeacon);\n       }\n  }\n\n}\n\nconst toggleNavigation = () => {\n  if (teleportOn) {\n    scene.remove(teleporter);\n    teleporter = null;\n    scene.add(beaconGroup);\n  } else {\n    scene.remove(beaconGroup);\n  }\n  teleportOn = !teleportOn;\n}\n\nconst loadModel = (name) => {\n  BimManager.loadModelToScene(name, scene);\n};\n\nconst showUpload = () => {\n  var el = document.querySelectorAll('.upload-form')[0];\n  el.style.display = 'block';\n};\n\nconst hideUpload = () => {\n  var el = document.querySelectorAll('.upload-form')[0];\n  el.style.display = 'none';\n};\n\n\n\nwindow.onload = function() {\n   init();\n};\n\nwindow.loadModel = loadModel;\nwindow.showUpload = showUpload;\nwindow.hideUpload = hideUpload;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n// Include a performance.now polyfill\n(function () {\n\n\tif ('performance' in window === false) {\n\t\twindow.performance = {};\n\t}\n\n\t// IE 8\n\tDate.now = (Date.now || function () {\n\t\treturn new Date().getTime();\n\t});\n\n\tif ('now' in window.performance === false) {\n\t\tvar offset = window.performance.timing && window.performance.timing.navigationStart ? window.performance.timing.navigationStart\n\t\t                                                                                    : Date.now();\n\n\t\twindow.performance.now = function () {\n\t\t\treturn Date.now() - offset;\n\t\t};\n\t}\n\n})();\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : window.performance.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time)) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\t// Set all starting values present on the target object\n\tfor (var field in object) {\n\t\t_valuesStart[field] = parseFloat(object[field], 10);\n\t}\n\n\tthis.to = function (properties, duration) {\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\t_valuesEnd = properties;\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : window.performance.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.startsWith('+') || end.startsWith('-')) {\n\t\t\t\t\t\tend = start + parseFloat(end, 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end, 10);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property], 10);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\t_startTime = time + _delayTime;\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\t\t\t\t\t_onCompleteCallback.call(_object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s;\n\t\t\tvar a = 0.1;\n\t\t\tvar p = 0.4;\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\n\t\t\treturn - (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s;\n\t\t\tvar a = 0.1;\n\t\t\tvar p = 0.4;\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\n\t\t\treturn (a * Math.pow(2, - 10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s;\n\t\t\tvar a = 0.1;\n\t\t\tvar p = 0.4;\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif (!a || a < 1) {\n\t\t\t\ta = 1;\n\t\t\t\ts = p / 4;\n\t\t\t} else {\n\t\t\t\ts = p * Math.asin(1 / a) / (2 * Math.PI);\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n\t\t\t}\n\n\t\t\treturn a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/tween.js/src/Tween.js\n ** module id = 1\n ** module chunks = 0\n **/","/* global THREE */\n\nimport OBJLoader from 'three-obj-loader';\nOBJLoader(THREE);\n\nconst manager = new THREE.LoadingManager();\nconst loader = new THREE.JSONLoader(manager);\nconst envLoader = new THREE.OBJLoader(manager);\n\nlet object;\nlet environment;\n\nconst addObject = (scene) => {\n  return (geometry, materials) => {\n    geometry.mergeVertices();\n    object = new THREE.Mesh( geometry, new THREE.MultiMaterial( materials ) );\n    object.rotation.x = -Math.PI/2;\n    scene.add(object);\n  }\n}\n\nconst loadModelToScene = (name, scene) => {\n  scene.remove(object);\n  // load a resource\n  loader.load(\n      name,\n      addObject(scene)\n  );\n}\n\nconst loadEnvironment = (name, scene) => {\n  if (environment) scene.remove(environment);\n\n  loader.load(\n    name, (geometry, materials) => {\n      geometry.mergeVertices();\n      environment = new THREE.Mesh( geometry, new THREE.MultiMaterial( materials ) );\n      environment.position.x = 44;\n      environment.position.y = 0.1;\n      environment.position.z = 180;\n\n      scene.add(environment);\n   });\n\n}\n\n\nconst getEnvironment = () => {\n  if (environment) {\n    return environment;\n  } else {\n    return new THREE.Object3D();\n  }\n}\n\nconst getObject = () => {\n  if (object) {\n    return object;\n  } else {\n    return new THREE.Object3D();\n  }\n}\n\n\nexport {\n  loadModelToScene,\n  loadEnvironment,\n  getEnvironment,\n  getObject\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/BimManager.js\n **/","'use strict';\n\nmodule.exports = function (THREE) {\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n  THREE.OBJLoader = function (manager) {\n\n    this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;\n  };\n\n  THREE.OBJLoader.prototype = {\n\n    constructor: THREE.OBJLoader,\n\n    load: function load(url, onLoad, onProgress, onError) {\n\n      var scope = this;\n\n      var loader = new THREE.XHRLoader(scope.manager);\n      loader.load(url, function (text) {\n\n        onLoad(scope.parse(text));\n      }, onProgress, onError);\n    },\n\n    parse: function parse(text) {\n\n      console.time('OBJLoader');\n\n      var object,\n          objects = [];\n      var geometry, material;\n\n      function parseVertexIndex(value) {\n\n        var index = parseInt(value);\n\n        return (index >= 0 ? index - 1 : index + vertices.length / 3) * 3;\n      }\n\n      function parseNormalIndex(value) {\n\n        var index = parseInt(value);\n\n        return (index >= 0 ? index - 1 : index + normals.length / 3) * 3;\n      }\n\n      function parseUVIndex(value) {\n\n        var index = parseInt(value);\n\n        return (index >= 0 ? index - 1 : index + uvs.length / 2) * 2;\n      }\n\n      function addVertex(a, b, c) {\n\n        geometry.vertices.push(vertices[a], vertices[a + 1], vertices[a + 2], vertices[b], vertices[b + 1], vertices[b + 2], vertices[c], vertices[c + 1], vertices[c + 2]);\n      }\n\n      function addNormal(a, b, c) {\n\n        geometry.normals.push(normals[a], normals[a + 1], normals[a + 2], normals[b], normals[b + 1], normals[b + 2], normals[c], normals[c + 1], normals[c + 2]);\n      }\n\n      function addUV(a, b, c) {\n\n        geometry.uvs.push(uvs[a], uvs[a + 1], uvs[b], uvs[b + 1], uvs[c], uvs[c + 1]);\n      }\n\n      function addFace(a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {\n\n        var ia = parseVertexIndex(a);\n        var ib = parseVertexIndex(b);\n        var ic = parseVertexIndex(c);\n        var id;\n\n        if (d === undefined) {\n\n          addVertex(ia, ib, ic);\n        } else {\n\n          id = parseVertexIndex(d);\n\n          addVertex(ia, ib, id);\n          addVertex(ib, ic, id);\n        }\n\n        if (ua !== undefined) {\n\n          ia = parseUVIndex(ua);\n          ib = parseUVIndex(ub);\n          ic = parseUVIndex(uc);\n\n          if (d === undefined) {\n\n            addUV(ia, ib, ic);\n          } else {\n\n            id = parseUVIndex(ud);\n\n            addUV(ia, ib, id);\n            addUV(ib, ic, id);\n          }\n        }\n\n        if (na !== undefined) {\n\n          ia = parseNormalIndex(na);\n          ib = parseNormalIndex(nb);\n          ic = parseNormalIndex(nc);\n\n          if (d === undefined) {\n\n            addNormal(ia, ib, ic);\n          } else {\n\n            id = parseNormalIndex(nd);\n\n            addNormal(ia, ib, id);\n            addNormal(ib, ic, id);\n          }\n        }\n      }\n\n      // create mesh if no objects in text\n\n      if (/^o /gm.test(text) === false) {\n\n        geometry = {\n          vertices: [],\n          normals: [],\n          uvs: []\n        };\n\n        material = {\n          name: ''\n        };\n\n        object = {\n          name: '',\n          geometry: geometry,\n          material: material\n        };\n\n        objects.push(object);\n      }\n\n      var vertices = [];\n      var normals = [];\n      var uvs = [];\n\n      // v float float float\n\n      var vertex_pattern = /v( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)/;\n\n      // vn float float float\n\n      var normal_pattern = /vn( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)/;\n\n      // vt float float\n\n      var uv_pattern = /vt( +[\\d|\\.|\\+|\\-|e|E]+)( +[\\d|\\.|\\+|\\-|e|E]+)/;\n\n      // f vertex vertex vertex ...\n\n      var face_pattern1 = /f( +-?\\d+)( +-?\\d+)( +-?\\d+)( +-?\\d+)?/;\n\n      // f vertex/uv vertex/uv vertex/uv ...\n\n      var face_pattern2 = /f( +(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+))?/;\n\n      // f vertex/uv/normal vertex/uv/normal vertex/uv/normal ...\n\n      var face_pattern3 = /f( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))( +(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/;\n\n      // f vertex//normal vertex//normal vertex//normal ...\n\n      var face_pattern4 = /f( +(-?\\d+)\\/\\/(-?\\d+))( +(-?\\d+)\\/\\/(-?\\d+))( +(-?\\d+)\\/\\/(-?\\d+))( +(-?\\d+)\\/\\/(-?\\d+))?/;\n\n      //\n\n      var lines = text.split('\\n');\n\n      for (var i = 0; i < lines.length; i++) {\n\n        var line = lines[i];\n        line = line.trim();\n\n        var result;\n\n        if (line.length === 0 || line.charAt(0) === '#') {\n\n          continue;\n        } else if ((result = vertex_pattern.exec(line)) !== null) {\n\n          // [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n          vertices.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n        } else if ((result = normal_pattern.exec(line)) !== null) {\n\n          // [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\n\n          normals.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n        } else if ((result = uv_pattern.exec(line)) !== null) {\n\n          // [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\n\n          uvs.push(parseFloat(result[1]), parseFloat(result[2]));\n        } else if ((result = face_pattern1.exec(line)) !== null) {\n\n          // [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\n\n          addFace(result[1], result[2], result[3], result[4]);\n        } else if ((result = face_pattern2.exec(line)) !== null) {\n\n          // [\"f 1/1 2/2 3/3\", \" 1/1\", \"1\", \"1\", \" 2/2\", \"2\", \"2\", \" 3/3\", \"3\", \"3\", undefined, undefined, undefined]\n\n          addFace(result[2], result[5], result[8], result[11], result[3], result[6], result[9], result[12]);\n        } else if ((result = face_pattern3.exec(line)) !== null) {\n\n          // [\"f 1/1/1 2/2/2 3/3/3\", \" 1/1/1\", \"1\", \"1\", \"1\", \" 2/2/2\", \"2\", \"2\", \"2\", \" 3/3/3\", \"3\", \"3\", \"3\", undefined, undefined, undefined, undefined]\n\n          addFace(result[2], result[6], result[10], result[14], result[3], result[7], result[11], result[15], result[4], result[8], result[12], result[16]);\n        } else if ((result = face_pattern4.exec(line)) !== null) {\n\n          // [\"f 1//1 2//2 3//3\", \" 1//1\", \"1\", \"1\", \" 2//2\", \"2\", \"2\", \" 3//3\", \"3\", \"3\", undefined, undefined, undefined]\n\n          addFace(result[2], result[5], result[8], result[11], undefined, undefined, undefined, undefined, result[3], result[6], result[9], result[12]);\n        } else if (/^o /.test(line)) {\n\n          geometry = {\n            vertices: [],\n            normals: [],\n            uvs: []\n          };\n\n          material = {\n            name: ''\n          };\n\n          object = {\n            name: line.substring(2).trim(),\n            geometry: geometry,\n            material: material\n          };\n\n          objects.push(object);\n        } else if (/^g /.test(line)) {\n\n          // group\n\n        } else if (/^usemtl /.test(line)) {\n\n            // material\n\n            material.name = line.substring(7).trim();\n          } else if (/^mtllib /.test(line)) {\n\n            // mtl file\n\n          } else if (/^s /.test(line)) {\n\n              // smooth shading\n\n            } else {\n\n                // console.log( \"THREE.OBJLoader: Unhandled line \" + line );\n\n              }\n      }\n\n      var container = new THREE.Object3D();\n      var l;\n\n      for (i = 0, l = objects.length; i < l; i++) {\n\n        object = objects[i];\n        geometry = object.geometry;\n\n        var buffergeometry = new THREE.BufferGeometry();\n\n        buffergeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(geometry.vertices), 3));\n\n        if (geometry.normals.length > 0) {\n\n          buffergeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(geometry.normals), 3));\n        }\n\n        if (geometry.uvs.length > 0) {\n\n          buffergeometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(geometry.uvs), 2));\n        }\n\n        material = new THREE.MeshLambertMaterial({\n          color: 0xff0000\n        });\n        material.name = object.material.name;\n\n        var mesh = new THREE.Mesh(buffergeometry, material);\n        mesh.name = object.name;\n\n        container.add(mesh);\n      }\n\n      console.timeEnd('OBJLoader');\n\n      return container;\n    }\n\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/three-obj-loader/dist/index.js\n ** module id = 3\n ** module chunks = 0\n **/","/* global THREE */\n\nconst group = new THREE.Group();\n\nconst createBeacons = () => {\n\n  for (let i = -15; i < 25; i++) {\n    for (let j = -15; j < 25; j++) {\n      for (let k = 0 ; k < 4; k++) {\n          if ((i % 3 == 0) && (j % 3 == 0))\n            group.add(_createSphere(i, k*3+1, j));\n      }\n    }\n  }\n  return group;\n};\n\nconst _createSphere = (x,y,z) => {\n    const geometry = new THREE.SphereGeometry( 0.1, 8, 8);\n    const material = new THREE.MeshBasicMaterial( {\n            color: 0xff0000,\n            opacity: 0.1,\n            transparent: true\n          } );\n    const sphere = new THREE.Mesh( geometry, material );\n    sphere.position.x = x;\n    sphere.position.z = z;\n    sphere.position.y = y;\n    material.depthTest = false;\n    return sphere;\n};\n\nconst initCrosshair = () => {\n  const crosshair = new THREE.Mesh(\n          new THREE.RingGeometry( 0.02, 0.04, 32 )\n        );\n  crosshair.material = createCrosshairMaterial(0xffffff);\n  crosshair.position.z = - 2;\n  return crosshair;\n};\n\nconst createCrosshairMaterial = (hex) => {\n  const material = new THREE.MeshBasicMaterial(\n    {\n      color: hex,\n      opacity: 0.8,\n      transparent: true\n    });\n  material.depthTest = false;\n  return material;\n};\n\nexport {\n  createBeacons,\n  initCrosshair,\n  createCrosshairMaterial\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Navigator.js\n **/","/* global THREE */\n\nconst _createCone = (x,y,z) => {\n    const geometry = new THREE.CylinderGeometry(0.5, 0.5, 4, 8, 8);\n    const material = new THREE.MeshBasicMaterial( {\n            color: 0xffff00,\n            opacity: 0.4,\n            transparent: true\n          } );\n    const cone = new THREE.Mesh(geometry, material);\n    cone.position.x = x;\n    cone.position.z = z;\n    cone.position.y = y;\n    return cone;\n};\n\nconst createTeleporter = () => {\n  return _createCone(0, 0, 0);\n}\n\nexport {\n  createTeleporter\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Teleporter.js\n **/","/* global THREE */\n\nconst yaxis = new THREE.Vector3(0, 1, 0);\nconst zaxis = new THREE.Vector3(0, 0, 1);\n\nconst createMenu = (dolly) => {\n  const menuParent = new THREE.Object3D();\n\n  const geometry = new THREE.PlaneGeometry(0.2, 0.2);\n  const material = new THREE.MeshLambertMaterial( {color: 0xff0000, side: THREE.OneSide} );\n  const menuHandle = new THREE.Mesh( geometry, material );\n  menuHandle.rotation.x = Math.PI / 180 * -45;\n\n  menuHandle.position.z = -0.5;\n  menuHandle.position.y = 1;\n\n  menuParent.add(menuHandle);\n\n  dolly.add(menuParent);\n  return menuParent;\n}\n\n\nconst updateMenuPosition = (camera, menuParent) => {\n  var direction = zaxis.clone();\n  // Apply the camera's quaternion onto the unit vector of one of the axes\n  // of our desired rotation plane (the z axis of the xz plane, in this case).\n  direction.applyQuaternion(camera.quaternion);\n  // Project the direction vector onto the y axis to get the y component\n  // of the direction.\n  var ycomponent = yaxis.clone().multiplyScalar(direction.dot(yaxis));\n  // Subtract the y component from the direction vector so that we are\n  // left with the x and z components.\n  direction.sub(ycomponent);\n  // Normalize the direction into a unit vector again.\n  direction.normalize();\n  // Set the pivot's quaternion to the rotation required to get from the z axis\n  // to the xz component of the camera's direction.\n  menuParent.quaternion.setFromUnitVectors(zaxis, direction);\n};\n\nexport {\n  createMenu,\n  updateMenuPosition\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Menu.js\n **/","/* global THREE */\n\nconst createSkybox = (fragmentShader, vertexShader) => {\n  const uniforms = {\n    topColor:    { type: 'c', value: new THREE.Color( 0x0077ff ) },\n    bottomColor: { type: 'c', value: new THREE.Color( 0xffffff ) },\n    offset:    { type: 'f', value: 33 },\n    exponent:  { type: 'f', value: 0.6 }\n  };\n\n  const skyGeo = new THREE.SphereGeometry( 4000, 32, 15 );\n  const skyMat = new THREE.ShaderMaterial( { vertexShader: vertexShader, fragmentShader: fragmentShader, uniforms: uniforms, side: THREE.BackSide } );\n  return new THREE.Mesh( skyGeo, skyMat );\n}\n\nconst createGround = () => {\n  const geometry = new THREE.PlaneGeometry(1000, 1000);\n  const material = new THREE.MeshLambertMaterial( {color: 0x2c6000, side: THREE.DoubleSide} );\n  const plane = new THREE.Mesh( geometry, material );\n  plane.rotation.x = Math.PI / 180 * 90;\n  return plane;\n}\n\nconst createLights = () => {\n  const hemiLight = new THREE.HemisphereLight(0xffffbb, 0x080820, 0.7);\n  hemiLight.name = 'hemiLight';\n\n  const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n  directionalLight.position.set(50, 50, 50);\n  directionalLight.name = 'dirLight';\n\n  return {\n    hemiLight: hemiLight,\n    directionalLight: directionalLight\n  };\n}\n\nexport {\n  createGround,\n  createLights,\n  createSkybox\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/WorldManager.js\n **/"],"sourceRoot":""}